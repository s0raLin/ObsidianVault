## 什么是state(状态)
State(状态)用于保存组件当前状态相关的信息，
state用于存放那些可能改变的、并影响组件行为的数据。

## 如何使用state
React内置了一个Hook--`useState`，用于在函数组件中声明和管理状态

```js
const [state, setState] = useState(initialState);
```

### 代码说明

#### 参数：

- **initialState**：状态变量的初始值。

#### 返回值：

- **state**：当前的状态值。
- **setState**：用于更新状态的函数。

要使用 `useState` Hook，需要先从 `react` 库中导入它。下面是一个在函数组件中使用 state 的简单示例：
```jsx
import React, { useState } from 'react';

const ExampleComponent = () => {
  // 声明一个名为 message 的状态，初始值为 'Hello, React!'
  const [message, setMessage] = useState('Hello, React!');

  const handleClick = () => {
    setMessage('Updated message!');
  };

  return (
    <div>
      <p>{message}</p>
      {/* 点击按钮触发状态更新 */}
      <button onClick={handleClick}>Update Message</button>
    </div>
  );
};

export default ExampleComponent;
```


## 管理多个 state

你可以在同一个组件中通过`useState`声明多个状态变量。每个状态变量都是**相互独立的**，用于管理不同的数据。

示例如下：
```jsx
import React, { useState } from 'react';

const MultiStateComponent = () => {

  // 声明多个状态变量
  const [name, setName] = useState('');
  const [age, setAge] = useState(0);
  const [city, setCity] = useState('');

  return (
    <div>
      <h2>User Information</h2>

      {/* 姓名输入框 */}
      <label htmlFor="name">Name:</label>
      <input
        type="text"
        id="name"
        value={name}
        onChange={(e) => setName(e.target.value)}
      />

      <br />

      {/* 年龄输入框 */}
      <label htmlFor="age">Age:</label>
      <input
        type="number"
        id="age"
        value={age}
        onChange={(e) => setAge(Number(e.target.value))}
      />

      <br />

      {/* 城市输入框 */}
      <label htmlFor="city">City:</label>
      <input
        type="text"
        id="city"
        value={city}
        onChange={(e) => setCity(e.target.value)}
      />

      <div>
        <h3>User Information Preview:</h3>
        <p>Name: {name}</p>
        <p>Age: {age}</p>
        <p>City: {city}</p>
      </div>
    </div>
  );
};

export default MultiStateComponent;
```


## 将 state 传递给子组件

在实际应用中，组件通常是层级结构的，一个组件可能会包含多个子组件。我们经常需要将 **父组件的 state 传递给子组件**，有时还需要 **由子组件触发父组件 state 的更新**。

下面通过示例来说明这一点。

### 向子组件传递 state

在 React 中，可以通过 **props** 将 state 从父组件传递给子组件。我们在之前的 `MultiStateComponent` 示例基础上进行扩展：
```jsx
// MultiStateComponent.js

import React, { useState } from 'react';
import ChildComponent from './ChildComponent';

const MultiStateComponent = () => {
  const [name, setName] = useState('');
  const [age, setAge] = useState(0);
  const [city, setCity] = useState('');

  const updateParentState = (newName, newAge, newCity) => {
    setName(newName);
    setAge(newAge);
    setCity(newCity);
  };

  return (
    <div>
      {/* 省略之前的代码 */}

      {/* 将 state 和更新函数作为 props 传给子组件 */}
      <ChildComponent
        name={name}
        age={age}
        city={city}
        onUpdateParentState={updateParentState}
      />
    </div>
  );
};

export default MultiStateComponent;
```

接下来创建子组件 `ChildComponent`：

```jsx
import React from 'react';

const ChildComponent = ({ name, age, city, onUpdateParentState }) => {
  return (
    <div>
      <h3>Child Component</h3>
      <p>Name: {name}</p>
      <p>Age: {age}</p>
      <p>City: {city}</p>

      {/* 点击按钮更新父组件状态 */}
      <button onClick={() => onUpdateParentState('New Name', 25, 'New City')}>
        Update Parent State
      </button>
    </div>
  );
};

export default ChildComponent;
```

### 代码说明

当点击 `ChildComponent` 中的按钮时，会调用从父组件传入的 `onUpdateParentState` 函数，从而更新父组件的 state

这种 **“状态向下传递（props） + 事件向上传递（回调函数）”** 的模式，是 React 中状态管理的核心思想之一。它遵循**单向数据流**，使组件更加清晰、模块化，也更易于维护