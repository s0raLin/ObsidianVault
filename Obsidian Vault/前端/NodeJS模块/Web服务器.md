Web 服务器是在计算机上运行的一个程序，它能够处理客户端请求并将响应返回给客户端。当服务器启动后，服务器会一直等待请求，服务器收到客户端的请求后，会把客户端要的内容发送回去作为回复


## 静态页面、动态页面和混合页面

服务器可以存储以下三种类型的网页：

### 静态页面（Static Pages）

静态页面是预先构建好的。当客户端请求页面时，服务器直接返回一个完整的、已经准备好的文档。

### 动态页面（Dynamic Pages）

动态页面包含一个预构建部分，服务器会先发送这部分内容。然后客户端通过 JavaScript 再向其他服务器（例如 REST API 服务器）请求数据，生成网页的其他部分。

### 混合页面（Hybrid Pages / SSR）

例如服务器端渲染（Server-Side Rendering，SSR）。这种情况下，服务器并没有提前准备好完整页面。它需要在收到请求后，处理请求并收集所有必要的数据（例如从 API 获取 JSON 数据），然后根据客户端请求动态构建页面。

---

## 代理（Proxy）

HTTP 服务器不仅可以响应请求，还可以将请求转发到其他服务器。这类服务器被称为代理服务器。

例如：

- 你的网站运行在主服务器上
- 你的管理后台运行在另一台服务器上

代理服务器可以根据域名将客户端请求转发到正确的服务器。

客户端通过不同域名访问同一个代理服务器，但实际响应来自代理后方的不同服务器。

---

## 负载均衡（Load Balancing）

作为代理，HTTP 服务器也可以充当负载均衡器。

当客户端数量很多时，HTTP 服务器可以将请求分发到多个服务器上，从而降低单个服务器的压力。管理员可以配置负载均衡策略，实现灵活的请求分配。

---

## 加密（HTTPS）

当你的请求发送到服务器时，它通常会经过多个网络节点。这些节点可能会读取数据。

为了保护数据安全，HTTP 服务器可以使用证书来加密连接。

如果你在浏览器地址栏看到一个“锁”的标志，说明连接是安全的。安全连接意味着所有发送和接收的数据都被加密，其他人无法读取。

---

### HTTPS 是什么？

HTTPS（S 代表 Secure）并不是完全不同的协议，它是基于 HTTP 之上的安全版本。

HTTPS 使用 TLS/SSL 传输机制：

- TLS：传输层安全协议（Transport Layer Security）
- SSL：安全套接层（Secure Socket Layer）

TLS 基于 SSL，用于创建安全的数据传输规则。

---

### 证书与公钥私钥机制

所有数据通过 SSL 证书进行加密。

证书由认证机构（CA）颁发，并带有数字签名。浏览器可以验证证书是否合法。

工作流程：

1. 浏览器先验证服务器证书
2. 使用“公钥”加密数据
3. 服务器使用“私钥”解密
4. 服务器响应时也会加密
5. 浏览器使用对应密钥解密

---

### 身份认证

HTTP 服务器还可以要求身份验证。

请求头中必须包含认证信息，例如登录名和密码。

---

## 压缩（Compression）

为了提高加载速度，HTTP 服务器可以压缩数据。

就像你将文件压缩成一个压缩包发送一样，服务器会压缩响应内容，浏览器接收后再解压。压缩后数据更小，下载速度更快。

---

## Cookies（Cookie）

服务器可以读取浏览器中的 Cookie。

Cookie 是网站存储在用户计算机中的小型数据文件，用来记录：

- 登录状态
- 用户偏好
- 浏览历史

例如电商网站可以根据你的浏览记录推荐商品。

---

### Cookie 的安全与隐私问题

Cookie 可能存在安全风险：

- 如果包含敏感信息（如登录凭证），可能被窃取
- 可用于追踪用户行为
- 可能用于定向广告

因此应注意：

- 不要在 Cookie 中存储敏感数据
- 定期清理 Cookie
- 关注隐私保护

---

## 缓存（Cache）

服务器可以缓存常用请求。

如果当前请求与之前相同，服务器可以直接返回缓存副本。

服务器也可以设置响应头，让浏览器缓存数据。如果浏览器已有缓存副本，就无需再次向服务器发送请求。